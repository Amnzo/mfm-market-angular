<div class="container-fluid mt-4" *ngIf="stats?.stats && stats?.vendeurs">
  <app-menu></app-menu>
  <h2 class="mb-4">Tableau de bord</h2>

  <div class="row g-4 mb-4">
    <div class="col-md-4">
      <div class="card text-white bg-primary shadow h-100">
        <div class="card-body">
          <h5 class="card-title"><i class="fas fa-credit-card"></i> Crédit total</h5>
          <p class="fs-3">{{ stats.stats.total_credit | number:'1.2-2' }} MAD</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card text-white bg-success shadow h-100">
        <div class="card-body">
          <h5 class="card-title"><i class="fas fa-shopping-cart"></i> Commandes</h5>
          <p class="fs-3">{{ stats.stats.nombre_commandes }}</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card text-white bg-warning shadow h-100">
        <div class="card-body">
          <h5 class="card-title"><i class="fas fa-chart-line"></i> Chiffre d'affaires</h5>
          <p class="fs-3">{{ stats.stats.chiffre | number:'1.2-2' }} MAD</p>
        </div>
      </div>
    </div>
  </div>

  <h4 class="mt-5 mb-3"><i class="fas fa-user-tie me-2"></i> Statistiques des vendeurs</h4>

  <div class="row g-4">
    <div class="col-md-4" *ngFor="let vendeur of stats.vendeurs">
      <div class="card shadow h-100">
        <div class="card-body">
          <h5 class="card-title"><i class="fas fa-user me-2 text-success"></i> {{ vendeur.name }}</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between">
              <span><i class="fas fa-calendar-day text-primary me-2"></i> Ce mois</span>
              <span>{{ vendeur.chiffre_mois_courant | number:'1.2-2' }} MAD</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span><i class="fas fa-calendar-minus text-warning me-2"></i> Mois précédent</span>
              <span>{{ vendeur.chiffre_mois_precedent | number:'1.2-2' }} MAD</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span><i class="fas fa-calendar-alt text-info me-2"></i> Année</span>
              <span>{{ vendeur.chiffre_annuel | number:'1.2-2' }} MAD</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
