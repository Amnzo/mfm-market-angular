{"version":3,"mappings":"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","names":["e","webpackEmptyAsyncContext","module","routes","path","redirectTo","pathMatch","component","_login_login_component__WEBPACK_IMPORTED_MODULE_3__","_components_home_home_component__WEBPACK_IMPORTED_MODULE_6__","_components_products_product_list_products_component__WEBPACK_IMPORTED_MODULE_0__","_components_products_add_product_add_product_component__WEBPACK_IMPORTED_MODULE_1__","_components_products_edit_product_edit_product_component__WEBPACK_IMPORTED_MODULE_2__","_components_commandes_commande_list_commande_list_component__WEBPACK_IMPORTED_MODULE_7__","_components_users_users_list_users_list_component__WEBPACK_IMPORTED_MODULE_4__","_components_users_add_user_add_user_component__WEBPACK_IMPORTED_MODULE_8__","_components_sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_5__","AppRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_10__","imports","exports","AppComponent","selectors","decls","vars","template","_angular_core__WEBPACK_IMPORTED_MODULE_0__","AppModule","bootstrap","_app_component__WEBPACK_IMPORTED_MODULE_1__","_angular_platform_browser__WEBPACK_IMPORTED_MODULE_13__","_angular_forms__WEBPACK_IMPORTED_MODULE_14__","_fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_15__","_angular_common_http__WEBPACK_IMPORTED_MODULE_16__","_app_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_login_login_component__WEBPACK_IMPORTED_MODULE_2__","_components_sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_3__","_components_home_home_component__WEBPACK_IMPORTED_MODULE_4__","_components_products_product_list_products_component__WEBPACK_IMPORTED_MODULE_5__","_components_products_add_product_add_product_component__WEBPACK_IMPORTED_MODULE_6__","_components_products_edit_product_edit_product_component__WEBPACK_IMPORTED_MODULE_7__","_components_users_users_list_users_list_component__WEBPACK_IMPORTED_MODULE_8__","_components_commandes_commande_list_commande_list_component__WEBPACK_IMPORTED_MODULE_9__","_components_users_add_user_add_user_component__WEBPACK_IMPORTED_MODULE_10__","_components_menu_menu_menu_component__WEBPACK_IMPORTED_MODULE_11__","_angular_core__WEBPACK_IMPORTED_MODULE_1__","CommandeListComponent","http","loadDeliveryUsers","loadCommandes","get","subscribe","console","log","response","deliveryUsers","filter","user","user_level","selectedCommande","selectedDeliveryUser","deliveryData","order_id","id","delivery_id","post","modal","document","getElementById","classList","remove","style","display","commandes","orders","filtered","searchTerm","term","toLowerCase","cmd","toString","includes","client_name","statusFilter","status","dateFilter","filterDate","Date","cmdDate","created_at","toDateString","start","currentPage","itemsPerPage","slice","Math","ceil","length","date","toLocaleString","statusMap","commande","itemsHTML","items","forEach","item","product_name","quantity","price","remise","total_ligne","paiementsHTML","paiements","paiement","date_paiement","toLocaleDateString","montant","mode_paiement","printContent","client_adresse","client_mobile","total","newWindow","window","open","write","close","focus","print","consts","ctx","_r5","_r8","HomeComponent","totalProducts","totalOrders","totalPayments","totalUsers","commandesEnCours","bestSeller","lowStockProducts","totalCredit","todayOrders","MenuComponent","router","route","icon","label","navigate","showMenu","AddProductComponent","name","price2","available","qtt_stock","imageurl","event","file","target","files","validTypes","type","imageFileInvalid","selectedFile","reader","FileReader","onload","product","result","readAsDataURL","alert","formData","FormData","append","apiUrl","next","error","err","EditProductComponent","snapshot","params","data","loading","_a","_b","_c","_d","_e","put","message","_angular_core__WEBPACK_IMPORTED_MODULE_2__","ProductsComponent","productsService","loadProducts","query","searchQuery","filteredProducts","products","matchesSearch","matchesStatus","getProducts","imageFilename","imagePath","baseUrl","uploads","trim","confirm","deleteProduct","SidebarComponent","isMenuOpen","AddUserComponent","fb","userForm","group","nom","_angular_forms__WEBPACK_IMPORTED_MODULE_1__","email","password","valid","userData","value","UsersListComponent","LoginComponent","loginForm","username","_angular_forms__WEBPACK_IMPORTED_MODULE_0__","ProductsService","res","headers","pipe","map","Object","avalaible","errorMessage","statusText","Error","productId","_angular_common_http__WEBPACK_IMPORTED_MODULE_2__","url","imageFile","undefined","addProductUrl","_angular_core__WEBPACK_IMPORTED_MODULE_4__","factory","providedIn","_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__","bootstrapModule","_app_app_module__WEBPACK_IMPORTED_MODULE_0__"],"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions:%20%7B%7D|namespace%20object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/commandes/commande-list/commande-list.component.html","webpack:///src/app/components/commandes/commande-list/commande-list.component.ts","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/menu/menu/menu.component.html","webpack:///src/app/components/menu/menu/menu.component.ts","webpack:///src/app/components/products/add-product/add-product.component.html","webpack:///src/app/components/products/add-product/add-product.component.ts","webpack:///src/app/components/products/edit-product/edit-product.component.html","webpack:///src/app/components/products/edit-product/edit-product.component.ts","webpack:///src/app/components/products/product-list/products.component.html","webpack:///src/app/components/products/product-list/products.component.ts","webpack:///src/app/components/sidebar/sidebar.component.html","webpack:///src/app/components/sidebar/sidebar.component.ts","webpack:///src/app/components/users/add-user/add-user.component.html","webpack:///src/app/components/users/add-user/add-user.component.ts","webpack:///src/app/components/users/users-list/users-list.component.ts","webpack:///src/app/components/users/users-list/users-list.component.html","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/services/products.service.ts","webpack:///src/main.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ProductsComponent } from './components/products/product-list/products.component';\nimport { AddProductComponent } from './components/products/add-product/add-product.component';\nimport { EditProductComponent } from './components/products/edit-product/edit-product.component';\nimport { LoginComponent } from './login/login.component';\nimport { UsersListComponent } from './components/users/users-list/users-list.component';\nimport { SidebarComponent } from './components/sidebar/sidebar.component';\nimport { HomeComponent } from './components/home/home.component';\nimport { CommandeListComponent } from './components/commandes/commande-list/commande-list.component';\nimport { AddUserComponent } from './components/users/add-user/add-user.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/login', pathMatch: 'full' },\n  { path: 'login', component: LoginComponent },\n  { path: 'home', component: HomeComponent },\n  { path: 'produits', component: ProductsComponent },\n  { path: 'produits/ajouter', component: AddProductComponent },\n  { path: 'produits/edit/:id', component: EditProductComponent },\n  { path: 'commande', component: CommandeListComponent },\n  { path: 'utilisateurs', component: UsersListComponent },\n  { path: 'utilisateurs/ajouter', component: AddUserComponent },\n\n  { path: 'paiement', component: SidebarComponent },\n  { path: '**', redirectTo: '/login' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'MFM Market';\n}\n","<router-outlet></router-outlet>\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\n\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login/login.component';\nimport { SidebarComponent } from './components/sidebar/sidebar.component';\nimport { HomeComponent } from './components/home/home.component';\nimport { ProductsComponent } from './components/products/product-list/products.component';\nimport { AddProductComponent } from './components/products/add-product/add-product.component';\nimport { EditProductComponent } from './components/products/edit-product/edit-product.component';\nimport { UsersListComponent } from './components/users/users-list/users-list.component';\nimport { CommandeListComponent } from './components/commandes/commande-list/commande-list.component';\nimport { AddUserComponent } from './components/users/add-user/add-user.component';\nimport { MenuComponent } from './components/menu/menu/menu.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    SidebarComponent,\n    HomeComponent,\n    ProductsComponent,\n    AddProductComponent,\n    EditProductComponent,\n    UsersListComponent,\n    CommandeListComponent,\n    AddUserComponent,\n    MenuComponent\n  ],\n  imports: [\n    BrowserModule,\n    ReactiveFormsModule,\n    FormsModule,\n    FontAwesomeModule,\n    HttpClientModule,\n    AppRoutingModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<style>\n  /* Carte */\n.card {\n  border-radius: 8px;\n  box-shadow: 0 0 8px rgb(0 0 0 / 0.1);\n  transition: transform 0.2s ease-in-out;\n}\n\n.card:hover {\n  transform: translateY(-5px);\n}\n\n/* Statut de la commande */\n.card-status {\n  padding: 0.3rem 0.6rem;\n  border-radius: 0.5rem;\n  font-weight: 600;\n  text-transform: capitalize;\n  font-size: 0.85rem;\n  color: #fff;\n}\n\n/* Couleurs selon le statut */\n.status-en-attente { background-color: #ffc107; }  /* jaune */\n.status-en-cours { background-color: #0dcaf0; }   /* bleu clair */\n.status-terminée { background-color: #198754; }   /* vert */\n.status-annulée { background-color: #dc3545; }    /* rouge */\n.status-livrée { background-color: #198754; }     /* vert */\n\n/* Bouton détails */\n.btn-details {\n  background-color: transparent;\n  border: none;\n  color: white;\n  font-size: 1.1rem;\n  cursor: pointer;\n  transition: color 0.2s ease-in-out;\n}\n\n.btn-details:hover {\n  color: #ffc107;\n}\n\n/* Adresse tronquée (clicable) */\n.adresse-tronquee {\n  cursor: pointer;\n  color: #0d6efd;\n  text-decoration: underline;\n  user-select: none;\n}\n\n/* Texte pour crédit en rouge si > 0 */\n.credit-attention {\n  color: #dc3545;\n  font-weight: 700;\n}\n\n/* Icones créateur et livreur */\n.info-creator i,\n.info-delivery i {\n  margin-right: 0.4rem;\n  color: #6c757d;\n}\n\n/* Blocs de détails */\n.info-block,\n.products-block,\n.payments-block {\n  margin-bottom: 1rem;\n}\n\n.products-block ul,\n.payments-block ul {\n  margin-bottom: 0;\n}\n\n.payments-block li {\n  font-size: 0.9rem;\n  color: #6c757d;\n}\n\n</style>\n<div class=\"container\">\n  <app-menu></app-menu>\n  <h2 class=\"text-center mb-4\">Liste des Commandes</h2>\n\n  <!-- Filtres -->\n  <div class=\"row mb-4 justify-content-center g-3\">\n    <div class=\"col-12 col-md-4\">\n      <label for=\"search\" class=\"form-label\">Rechercher</label>\n      <input\n        id=\"search\"\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Par ID ou Client\"\n        [(ngModel)]=\"searchTerm\"\n      />\n    </div>\n    <div class=\"col-12 col-md-3\">\n      <label for=\"status\" class=\"form-label\">Statut</label>\n      <select\n        id=\"status\"\n        class=\"form-select\"\n      >\n        <option value=\"\">Tous</option>\n        <option value=\"en attente\">En attente</option>\n        <option value=\"en cours\">En cours</option>\n        <option value=\"terminée\">Terminée</option>\n        <option value=\"annulée\">Annulée</option>\n        <option value=\"livrée\">Livrée</option>\n      </select>\n    </div>\n    <div class=\"col-12 col-md-3\">\n      <label for=\"date\" class=\"form-label\">Date</label>\n      <input\n        id=\"date\"\n        type=\"date\"\n        class=\"form-control\"\n      />\n    </div>\n  </div>\n\n  <!-- Liste commandes -->\n  <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\">\n    <div class=\"col\" *ngFor=\"let commande of filteredCommandes\">\n      <div class=\"card h-100 border-primary shadow-sm\">\n        <div class=\"card-header bg-primary text-white d-flex justify-content-between align-items-center\">\n          <h5 class=\"card-title mb-0\">Commande #{{ commande.id }}</h5>\n          <div class=\"d-flex align-items-center gap-2\">\n            <span\n              class=\"card-status\"\n              [ngClass]=\"'status-' + commande.status.replace(' ', '-')\"\n            >\n              {{ commande.status }}\n            </span>\n            <button \n              type=\"button\" \n              class=\"btn-details\" \n              data-bs-toggle=\"modal\" \n              data-bs-target=\"#detailsModal\"\n              (click)=\"selectedCommande = commande\"\n              title=\"Voir détails\"\n            >\n              <i class=\"fas fa-eye\"></i>\n            </button>\n            <button \n              *ngIf=\"!commande.delivery_name\"\n              type=\"button\" \n              class=\"btn-details\" \n              data-bs-toggle=\"modal\" \n              data-bs-target=\"#assignDeliveryModal\"\n              (click)=\"selectedCommande = commande\"\n              title=\"Attribuer un livreur\"\n            >\n              <i class=\"fas fa-truck\"></i>\n            </button>\n          \n            <!-- Bouton Print -->\n            <button \n              type=\"button\"\n              class=\"btn-details\"\n              (click)=\"imprimerCommande(commande)\"\n              title=\"Imprimer la commande\"\n            >\n              <i class=\"fas fa-print\"></i>\n            </button>\n          </div>\n\n        </div>\n        <div class=\"card-body\">\n          <p><strong>Client :</strong> {{ commande.client_name }}</p>\n          <p><strong>Téléphone :</strong> {{ commande.client_mobile }}</p>\n          <p>\n            <strong>Adresse :</strong>\n            <span\n              class=\"adresse-tronquee\"\n              data-bs-toggle=\"modal\"\n              data-bs-target=\"#adresseModal\"\n              (click)=\"adresseComplete = commande.client_adresse\"\n              title=\"Cliquer pour voir l'adresse complète\"\n            >\n              {{ commande.client_adresse.length > 40 ? (commande.client_adresse | slice:0:40) + '...' : commande.client_adresse }}\n            </span>\n          </p>\n          <p><strong>Date :</strong> {{ commande.created_at | date:'mediumDate' }}</p>\n          <p><strong>Total :</strong> {{ commande.total }} DH</p>\n          <p *ngIf=\"commande.credit_sur_commande\" class=\"credit-attention\">\n            <strong>Crédit :</strong> {{ commande.credit_sur_commande | number:'1.2-2' }} DH\n          </p>\n          <p *ngIf=\"commande.creator_name\" class=\"info-creator\">\n            <i class=\"fas fa-user\"></i> Créé par : {{ commande.creator_name }}\n          </p>\n          <p *ngIf=\"commande.status.toLowerCase() === 'livrée' && commande.delivery_name\" class=\"info-delivery\">\n            <i class=\"fas fa-truck\"></i> Livré par : {{ commande.delivery_name }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modals -->\n  <div class=\"modal fade\" id=\"detailsModal\" tabindex=\"-1\" aria-labelledby=\"detailsModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-primary text-white\">\n          <h5 class=\"modal-title\" id=\"detailsModalLabel\">Détails de la commande #{{ selectedCommande?.id }}</h5>\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Fermer\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row mb-3\">\n            <div class=\"col-md-6\">\n              <p><strong>Total :</strong> {{ selectedCommande?.total | number:'1.2-2' }} DH</p>\n              <p *ngIf=\"selectedCommande?.credit_sur_commande\" class=\"credit-attention\">\n                <strong>Crédit :</strong> {{ selectedCommande?.credit_sur_commande | number:'1.2-2' }} DH\n              </p>\n            </div>\n            <div class=\"col-md-6\">\n              <p><strong>Statut :</strong>\n                <span class=\"card-status status-{{ selectedCommande?.status.replace(' ', '-') }}\">\n                  {{ selectedCommande?.status }}\n                </span>\n              </p>\n              <p *ngIf=\"selectedCommande?.creator_name\" class=\"info-creator\">\n                <i class=\"fas fa-user me-2\"></i> Créé par : {{ selectedCommande?.creator_name }}\n              </p>\n              <p *ngIf=\"selectedCommande?.status.toLowerCase() === 'livrée' && selectedCommande?.delivery_name\" class=\"info-delivery\">\n                <i class=\"fas fa-truck me-2\"></i> Livré par : {{ selectedCommande?.delivery_name }}\n              </p>\n            </div>\n          </div>\n  \n          <!-- Produits -->\n          <div class=\"mb-4\">\n            <h6 class=\"text-primary border-bottom pb-2 mb-3\">Produits</h6>\n            <div *ngIf=\"selectedCommande?.items?.length > 0; else noItems\">\n              <table class=\"table table-sm table-striped align-middle\">\n                <thead>\n                  <tr>\n                    <th>Produit</th>\n                    <th class=\"text-end\">Prix unitaire (DH)</th>\n                    <th class=\"text-end\">Remise (DH)</th>\n                    <th class=\"text-center\">Quantité</th>\n                    <th class=\"text-end\">Total ligne (DH)</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let item of selectedCommande?.items\">\n                    <td>{{ item.product_name }}</td>\n                    <td class=\"text-end\">{{ item.price | number:'1.2-2' }}</td>\n                    <td class=\"text-end\">{{ item.remise | number:'1.2-2' }}</td>\n                    <td class=\"text-center\">{{ item.quantity }}</td>\n                    <td class=\"text-end\">{{ item.total_ligne | number:'1.2-2' }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <ng-template #noItems>\n              <p class=\"text-muted fst-italic\">Aucun produit dans cette commande.</p>\n            </ng-template>\n          </div>\n  \n          <!-- Paiements -->\n          <div>\n            <h6 class=\"text-primary border-bottom pb-2 mb-3\">Paiements</h6>\n            <div *ngIf=\"selectedCommande?.paiements?.length > 0; else noPayments\">\n              <ul class=\"list-group list-group-flush\">\n                <li *ngFor=\"let paiement of selectedCommande?.paiements\" class=\"list-group-item d-flex justify-content-between align-items-center px-0\">\n                  <span>{{ paiement.montant | number:'1.2-2' }} DH - {{ paiement.mode_paiement }}</span>\n                  <small class=\"text-muted\">{{ paiement.date_paiement | date:'mediumDate' }}</small>\n                </li>\n              </ul>\n            </div>\n            <ng-template #noPayments>\n              <p class=\"text-muted fst-italic\">Aucun paiement enregistré.</p>\n            </ng-template>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Fermer</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  \n\n  <!-- Modal pour assigner un livreur -->\n  <div class=\"modal fade\" id=\"assignDeliveryModal\" tabindex=\"-1\" aria-labelledby=\"assignDeliveryModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-primary text-white\">\n          <h5 class=\"modal-title\" id=\"assignDeliveryModalLabel\">Assigner un livreur</h5>\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Fermer\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Commande #{{ selectedCommande?.id }} - {{ selectedCommande?.client_name }}</p>\n          <div class=\"mb-3\">\n            <label for=\"deliveryUser\" class=\"form-label\">Choisir un livreur</label>\n            <select class=\"form-select\" id=\"deliveryUser\" [(ngModel)]=\"selectedDeliveryUser\">\n              <option value=\"\">Sélectionner un livreur</option>\n              <option *ngFor=\"let user of deliveryUsers\" [value]=\"user.id\">\n                {{ user.nom }} ({{ user.email }})\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Annuler</button>\n          <button type=\"button\" class=\"btn btn-primary\" (click)=\"assignDelivery()\" [disabled]=\"!selectedDeliveryUser\">\n            Assigner\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modal Bootstrap pour l'adresse complète -->\n  <div class=\"modal fade\" id=\"adresseModal\" tabindex=\"-1\" aria-labelledby=\"adresseModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"adresseModalLabel\">Adresse complète</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Fermer\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <p>{{ adresseComplete }}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Fermer</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\ninterface Paiement {\n  paiement_id: number;\n  montant: string;\n  date_paiement: string;\n  mode_paiement: string;\n}\n\ninterface CommandeItem {\n  item_id: number;\n  quantity: number;\n  price: string;\n  remise: string;\n  total_ligne: string;\n  product_id: number;\n  product_name: string;\n}\n\ninterface Commande {\n  id: number;\n  client_name: string;\n  client_mobile: string;\n  client_adresse: string;\n  client_gps: string;\n  total: string;\n  status: string;\n  created_at: string;\n  cloture_date: string | null;\n  credit_sur_commande: string | null;\n  creator_name: string;\n  delivery_name: string | null;\n  items: CommandeItem[];\n  paiements: Paiement[];\n}\n\n@Component({\n  selector: 'app-commande-list',\n  templateUrl: './commande-list.component.html'\n})\nexport class CommandeListComponent implements OnInit {\n  commandes: Commande[] = [];\n  searchTerm = '';\n  statusFilter: string | null = null;\n  dateFilter: string | null = null;\n  currentPage = 1;\n  itemsPerPage = 10;\n  selectedCommande: Commande | null = null;\n  selectedDeliveryUser: number | null = null;\n  deliveryUsers: any[] = [];\n  adresseComplete = '';\n  statusColors = {\n    'en attente': 'warning',\n    'en cours': 'info',\n    'terminée': 'success',\n    'annulée': 'danger',\n    'livrée': 'success'\n  };\n\n  constructor(private http: HttpClient) {\n    this.loadDeliveryUsers();\n  }\n\n  ngOnInit(): void {\n    this.loadCommandes();\n  }\n\n  loadDeliveryUsers() {\n    this.http.get<any[]>('/admin/users')\n      .subscribe(response => {\n        console.log(response);\n        this.deliveryUsers = response.filter(user => user.user_level === 'livreur'); // Filtrer par level = 1 pour les livreurs\n      });\n  }\n\n  assignDelivery() {\n    if (this.selectedCommande && this.selectedDeliveryUser) {\n      const deliveryData = {\n        order_id: this.selectedCommande.id,\n        delivery_id: this.selectedDeliveryUser\n      };\n\n      this.http.post('/admin/assign-delivery', deliveryData)\n        .subscribe(response => {\n          // Mettre à jour le statut de la commande\n          const modal = document.getElementById('assignDeliveryModal');\n          if (modal) {\n            modal.classList.remove('show');\n            modal.style.display = 'none';\n          }\n          this.selectedCommande = null;\n          this.selectedDeliveryUser = null;\n          this.loadCommandes();\n        });\n    }\n  }\n\n  loadCommandes(): void {\n    this.http.get<{ orders: Commande[] }>('/admin/orders')\n      .subscribe(response => {\n        this.commandes = response.orders;\n      });\n  }\n\n  get filteredCommandes(): Commande[] {\n    let filtered = [...this.commandes];\n\n    // Filtrer par recherche\n    if (this.searchTerm) {\n      const term = this.searchTerm.toLowerCase();\n      filtered = filtered.filter(cmd => \n        cmd.id.toString().includes(term) ||\n        cmd.client_name.toLowerCase().includes(term)\n      );\n    }\n\n    // Filtrer par statut\n    if (this.statusFilter) {\n      filtered = filtered.filter(cmd => cmd.status === this.statusFilter);\n    }\n\n    // Filtrer par date\n    if (this.dateFilter) {\n      const filterDate = new Date(this.dateFilter);\n      filtered = filtered.filter(cmd => {\n        const cmdDate = new Date(cmd.created_at);\n        return cmdDate.toDateString() === filterDate.toDateString();\n      });\n    }\n\n    // Pagination\n    const start = (this.currentPage - 1) * this.itemsPerPage;\n    return filtered.slice(start, start + this.itemsPerPage);\n  }\n\n  get totalPages(): number {\n    return Math.ceil(this.commandes.length / this.itemsPerPage);\n  }\n\n  formatDateTime(date: string): string {\n    return new Date(date).toLocaleString();\n  }\n\n  getStatusColor(status: string): string {\n    const statusMap = {\n      'en attente': 'warning',\n      'en cours': 'info',\n      'terminée': 'success',\n      'annulée': 'danger',\n      'livrée': 'success'\n    };\n    return statusMap[status.toLowerCase()] || 'default';\n  }\n\n  imprimerCommande(commande: any) {\n    let itemsHTML = '';\n    commande.items.forEach(item => {\n      itemsHTML += `\n        <tr>\n          <td>${item.product_name}</td>\n          <td>${item.quantity}</td>\n          <td>${item.price} MAD</td>\n          <td>${item.remise} %</td>\n          <td>${item.total_ligne} MAD</td>\n        </tr>\n      `;\n    });\n  \n    let paiementsHTML = '';\n    commande.paiements.forEach(paiement => {\n      paiementsHTML += `\n        <tr>\n          <td>${new Date(paiement.date_paiement).toLocaleDateString()}</td>\n          <td>${paiement.montant} MAD</td>\n          <td>${paiement.mode_paiement}</td>\n        </tr>\n      `;\n    });\n  \n    const printContent = `\n      <html>\n      <head>\n        <title>Impression commande #${commande.id}</title>\n        <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\n        <style>\n          body { padding: 20px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }\n          h2, h3 { text-align: center; margin-bottom: 20px; }\n          .table thead th { background-color: #0d6efd; color: white; }\n          .info-section p { font-size: 1rem; margin: 0.3rem 0; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <h2 class=\"mb-4\">Détails de la commande #${commande.id}</h2>\n  \n          <div class=\"info-section mb-4\">\n            <p><strong>Client :</strong> ${commande.client_name}</p>\n            <p><strong>Adresse :</strong> ${commande.client_adresse}</p>\n            <p><strong>Mobile :</strong> ${commande.client_mobile}</p>\n            <p><strong>Status :</strong> <span class=\"badge bg-success\">${commande.status}</span></p>\n            <p><strong>Date création :</strong> ${new Date(commande.created_at).toLocaleString()}</p>\n            <p><strong>Total :</strong> <span class=\"fw-bold\">${commande.total} MAD</span></p>\n            \n          </div>\n  \n          <h3>Produits</h3>\n          <table class=\"table table-striped table-bordered\">\n            <thead>\n              <tr>\n                <th>Produit</th>\n                <th>Quantité</th>\n                <th>Prix unitaire</th>\n                <th>Remise (%)</th>\n                <th>Total ligne</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${itemsHTML}\n            </tbody>\n          </table>\n  \n          <h3>Paiements</h3>\n          <table class=\"table table-bordered\">\n            <thead>\n              <tr>\n                <th>Date</th>\n                <th>Montant</th>\n                <th>Mode de paiement</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${paiementsHTML}\n            </tbody>\n          </table>\n        </div>\n      </body>\n      </html>\n    `;\n  \n    const newWindow = window.open('', '_blank', 'width=900,height=700');\n    if (newWindow) {\n      newWindow.document.write(printContent);\n      newWindow.document.close();\n      newWindow.focus();\n      newWindow.print();\n    }\n  }\n  \n\n\n  \n\n\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n})\nexport class HomeComponent implements OnInit {\n  stats = {\n    totalProducts: 120,\n    totalOrders: 45,\n    totalPayments: 23450,\n    totalUsers: 10,\n    commandesEnCours: 5,\n    bestSeller: 'Ali Bennani',\n    lowStockProducts: 8,\n    totalCredit: 4560,\n    todayOrders: 4\n  };\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<!DOCTYPE html>\n<html lang=\"fr\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>Tableau de bord - Statistiques</title>\n\n  <!-- Bootstrap CSS -->\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\n\n  <!-- FontAwesome -->\n  <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\" rel=\"stylesheet\" />\n\n  <style>\n    body {\n      background-color: #f8f9fa;\n    }\n    .card-title i {\n      color: #0d6efd; /* Bootstrap primary blue */\n    }\n  </style>\n</head>\n<body>\n\n<div class=\"container-fluid mt-4\">\n  <app-menu></app-menu>\n  <h2 class=\"mb-4\">Tableau de bord</h2>\n\n  <!-- Section principale (exemple résumé rapide) -->\n  <div class=\"row g-4 mb-4\">\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-primary shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-box\"></i> Produits</h5>\n          <p class=\"fs-3\">120</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-success shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-shopping-cart\"></i> Commandes</h5>\n          <p class=\"fs-3\">45</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-warning shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-credit-card\"></i> Paiements</h5>\n          <p class=\"fs-3\">23,450 MAD</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-info shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-users\"></i> Utilisateurs</h5>\n          <p class=\"fs-3\">10</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Autres statistiques -->\n  <div class=\"row g-4 mb-5\">\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-secondary shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-spinner\"></i> Commandes en cours</h5>\n          <p class=\"fs-4\">5</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-dark shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-user-tie\"></i> Meilleur vendeur</h5>\n          <p class=\"fs-5\">Ali Bennani</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-danger shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-boxes\"></i> Stock faible</h5>\n          <p class=\"fs-4\">8 produits</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <div class=\"card text-white bg-light text-dark shadow h-100\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-calendar-day\"></i> Commandes aujourd'hui</h5>\n          <p class=\"fs-4\">4</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Top 5 produits et vendeurs -->\n  <div class=\"row g-4\">\n    <div class=\"col-md-6\">\n      <div class=\"card shadow\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-box-open me-2\"></i> Top 5 produits vendus</h5>\n          <ul class=\"list-group list-group-flush\">\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-cubes text-primary me-2\"></i> Produit A</span>\n              <span>150 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-cubes text-primary me-2\"></i> Produit B</span>\n              <span>120 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-cubes text-primary me-2\"></i> Produit C</span>\n              <span>98 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-cubes text-primary me-2\"></i> Produit D</span>\n              <span>75 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-cubes text-primary me-2\"></i> Produit E</span>\n              <span>60 ventes</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-md-6\">\n      <div class=\"card shadow\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><i class=\"fas fa-user-tie me-2\"></i> Top 5 vendeurs</h5>\n          <ul class=\"list-group list-group-flush\">\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-user text-success me-2\"></i> Ali</span>\n              <span>40 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-user text-success me-2\"></i> Youssef</span>\n              <span>32 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-user text-success me-2\"></i> Khalid</span>\n              <span>28 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-user text-success me-2\"></i> Malika</span>\n              <span>20 ventes</span>\n            </li>\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span><i class=\"fas fa-user text-success me-2\"></i> Salma</span>\n              <span>15 ventes</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n<!-- Bootstrap JS Bundle (Popper + Bootstrap JS) -->\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\n\n</body>\n</html>\n","<style>\n    .menu-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 20px;\n      background: #fff;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n      position: relative;\n    }\n  \n    .logo {\n      font-size: 1.5rem;\n      font-weight: bold;\n      color: #333;\n    }\n  \n    .burger-menu {\n      display: none;\n      cursor: pointer;\n      padding: 8px;\n    }\n  \n    .burger-menu span {\n      display: block;\n      width: 25px;\n      height: 3px;\n      background: #333;\n      margin: 5px 0;\n      transition: 0.3s;\n    }\n  \n    .menu-items {\n      display: flex;\n      gap: 20px;\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n  \n    .menu-items li {\n      cursor: pointer;\n      padding: 8px 12px;\n      border-radius: 4px;\n      transition: background-color 0.3s;\n    }\n  \n    .menu-items li:hover {\n      background: #f0f0f0;\n    }\n  \n    .menu-items i {\n      margin-right: 8px;\n    }\n  \n    @media (max-width: 768px) {\n      .menu-items {\n        display: none;\n        position: absolute;\n        top: 100%;\n        left: 0;\n        right: 0;\n        background: #fff;\n        flex-direction: column;\n        padding: 10px 0;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n      }\n  \n      .menu-items li {\n        width: 100%;\n        text-align: left;\n        padding: 12px 20px;\n      }\n  \n      .burger-menu {\n        display: block;\n      }\n  \n      .menu-items.show-menu {\n        display: flex;\n      }\n    }\n  </style>\n  \n  <div class=\"menu-container\">\n    <div class=\"logo\">MFM Market</div>\n    <div class=\"burger-menu\" (click)=\"toggleMenu()\">\n      <span></span>\n      <span></span>\n      <span></span>\n    </div>\n    <ul class=\"menu-items\" [class.show-menu]=\"showMenu\">\n      <li *ngFor=\"let item of menuItems\" (click)=\"navigateTo(item.route)\">\n        <i class=\"fas {{item.icon}}\"></i>\n        {{item.label}}\n      </li>\n    </ul>\n  </div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css']\n})\nexport class MenuComponent {\n  \n  \n  menuItems = [\n    { route: '/produits', icon: 'fa-box', label: 'Produits' },\n    { route: '/commande', icon: 'fa-shopping-cart', label: 'Commandes' },\n    { route: '/utilisateurs', icon: 'fa-users', label: 'Utilisateurs' },\n    { route: '/paiement', icon: 'fa-credit-card', label: 'Paiements' }\n  ];\n\n  showMenu = false;\n\n  constructor(private router: Router) {}\n\n  navigateTo(route: string): void {\n    this.router.navigate([route]);\n    this.showMenu = false;\n  }\n\n  toggleMenu(): void {\n    this.showMenu = !this.showMenu;\n  }\n\n\n\n}\n","\n\n<div class=\"add-product-container\">\n  <style>\n    .add-product-container {\n      max-width: 500px;\n      margin: 20px auto;\n      padding: 20px;\n      border: 1px solid #ccc;\n      border-radius: 8px;\n      background-color: #fafafa;\n      box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n      font-family: Arial, sans-serif;\n    }\n    .back-btn {\n      display: block;\n      margin-bottom: 20px;\n      color: #007bff;\n      text-decoration: none;\n      font-size: 1rem;\n      transition: color 0.3s ease;\n    }\n    .back-btn:hover {\n      color: #0056b3;\n    }\n    .back-btn i {\n      margin-right: 5px;\n    }\n    .add-product-container h2 {\n      text-align: center;\n      margin-bottom: 20px;\n      color: #333;\n    }\n    .product-form div {\n      margin-bottom: 15px;\n      display: flex;\n      flex-direction: column;\n    }\n    .product-form label {\n      font-weight: 600;\n      margin-bottom: 6px;\n      color: #444;\n    }\n    .product-form input[type=\"text\"],\n    .product-form input[type=\"number\"],\n    .product-form select,\n    .product-form input[type=\"file\"] {\n      padding: 8px 12px;\n      font-size: 1rem;\n      border: 1px solid #aaa;\n      border-radius: 4px;\n      outline: none;\n      transition: border-color 0.3s ease;\n    }\n    .product-form input[type=\"text\"]:focus,\n    .product-form input[type=\"number\"]:focus,\n    .product-form select:focus,\n    .product-form input[type=\"file\"]:focus {\n      border-color: #007bff;\n    }\n    .error-message {\n      color: #d9534f;\n      font-size: 0.9rem;\n      margin-top: 4px;\n    }\n    button[type=\"submit\"] {\n      width: 100%;\n      padding: 10px 15px;\n      font-size: 1.1rem;\n      background-color: #007bff;\n      border: none;\n      border-radius: 5px;\n      color: white;\n      cursor: pointer;\n      transition: background-color 0.3s ease;\n    }\n    button[type=\"submit\"]:disabled {\n      background-color: #aaa;\n      cursor: not-allowed;\n    }\n    button[type=\"submit\"]:not(:disabled):hover {\n      background-color: #0056b3;\n    }\n    img {\n      max-width: 100%;\n      max-height: 250px;\n      border-radius: 5px;\n      margin-bottom: 15px;\n    }\n  </style>\n\n  <a class=\"back-btn\" routerLink=\"/produits\">\n    <i class=\"fas fa-arrow-left\"></i> Retour à la liste des produits\n  </a>\n  \n  <h2>Ajouter un produit</h2>\n  <form (ngSubmit)=\"submit()\" #productForm=\"ngForm\" class=\"product-form\">\n    <div>\n      <label for=\"name\">Nom :</label>\n      <input\n        type=\"text\"\n        id=\"name\"\n        name=\"name\"\n        [(ngModel)]=\"product.name\"\n        required\n        #name=\"ngModel\"\n      />\n      <div *ngIf=\"name.invalid && name.touched\" class=\"error-message\">\n        Le nom est obligatoire.\n      </div>\n    </div>\n\n    <div>\n      <label for=\"price\">Prix en détails :</label>\n      <input\n        type=\"number\"\n        id=\"price\"\n        name=\"price\"\n        [(ngModel)]=\"product.price\"\n        required\n        min=\"0\"\n        step=\"0.01\"\n        #price=\"ngModel\"\n      />\n      <div *ngIf=\"price.invalid && price.touched\" class=\"error-message\">\n        Prix en détails invalide.\n      </div>\n    </div>\n\n    <div>\n      <label for=\"price2\">Prix grossiste :</label>\n      <input\n        type=\"number\"\n        id=\"price2\"\n        name=\"price2\"\n        [(ngModel)]=\"product.price2\"\n        required\n        min=\"0\"\n        step=\"0.01\"\n        #price2=\"ngModel\"\n      />\n      <div *ngIf=\"price2.invalid && price2.touched\" class=\"error-message\">\n        Prix grossiste invalide.\n      </div>\n    </div>\n\n    <div>\n      <label for=\"available\">Disponible :</label>\n      <select id=\"available\" name=\"available\" [(ngModel)]=\"product.available\" required>\n        <option [ngValue]=\"true\">Oui</option>\n        <option [ngValue]=\"false\">Non</option>\n      </select>\n    </div>\n\n    <div>\n      <label for=\"qtt_stock\">Quantité en stock :</label>\n      <input\n        type=\"number\"\n        id=\"qtt_stock\"\n        name=\"qtt_stock\"\n        [(ngModel)]=\"product.qtt_stock\"\n        required\n        min=\"0\"\n        #qtt_stock=\"ngModel\"\n      />\n      <div *ngIf=\"qtt_stock.invalid && qtt_stock.touched\" class=\"error-message\">\n        Quantité en stock invalide.\n      </div>\n    </div>\n\n    <div>\n      <label for=\"imagefile\">Image du produit :</label>\n      <input\n        type=\"file\"\n        id=\"imagefile\"\n        name=\"imagefile\"\n        (change)=\"onFileChange($event)\"\n        accept=\"image/png, image/jpeg\"\n        required\n      />\n      <div *ngIf=\"imageFileInvalid\" class=\"error-message\">\n        Fichier image invalide (seuls jpg et png sont acceptés).\n      </div>\n    </div>\n\n    <div *ngIf=\"product.imageurl\">\n      <img [src]=\"product.imageurl\" alt=\"Prévisualisation\" />\n    </div>\n\n    <button type=\"submit\" [disabled]=\"productForm.invalid || imageFileInvalid\">Ajouter</button>\n  </form>\n</div>\n","import { Component } from '@angular/core';\nimport { HttpClient, HttpEvent, HttpEventType } from '@angular/common/http';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  //styleUrls: ['./add-product.component.css']\n})\nexport class AddProductComponent {\n  product = {\n    name: '',\n    price: null,\n    price2: null,\n    available: true,\n    qtt_stock: null,\n    imageurl: ''\n  };\n\n  imageFileInvalid = false;\n  selectedFile: File | null = null;\n\n  constructor(private http: HttpClient) {}\n\n  onFileChange(event: any) {\n    const file = event.target.files[0];\n    if (file) {\n      const validTypes = ['image/jpeg', 'image/png', 'image/jpg'];\n      if (!validTypes.includes(file.type)) {\n        this.imageFileInvalid = true;\n        this.selectedFile = null;\n      } else {\n        this.imageFileInvalid = false;\n        this.selectedFile = file;\n\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.product.imageurl = reader.result as string;\n        };\n        reader.readAsDataURL(file);\n      }\n    } else {\n      this.imageFileInvalid = false;\n      this.selectedFile = null;\n      this.product.imageurl = '';\n    }\n  }\n\n  submit() {\n    if (\n      !this.product.name ||\n      this.product.price === null ||\n      this.product.price2 === null ||\n      this.product.qtt_stock === null ||\n      this.imageFileInvalid\n    ) {\n      alert('Veuillez remplir tous les champs correctement.');\n      return;\n    }\n\n    // Préparer les données dans un FormData pour gérer fichier + données\n    const formData = new FormData();\n    formData.append('name', this.product.name);\n    formData.append('price', this.product.price.toString());\n    formData.append('price2', this.product.price2.toString());\n    formData.append('available', this.product.available.toString());\n    formData.append('qtt_stock', this.product.qtt_stock.toString());\n\n    if (this.selectedFile) {\n      formData.append('image', this.selectedFile, this.selectedFile.name);\n    }\n\n    // Exemple d’URL, à changer par celle de ton API réelle\n    const apiUrl = 'admin/add-product';\n\n    // Envoyer la requête POST\n    this.http.post(apiUrl, formData).subscribe({\n      next: (response) => {\n        console.log('Produit ajouté avec succès', response);\n        alert('Produit ajouté avec succès');\n\n        // Réinitialiser le formulaire\n        this.product = {\n          name: '',\n          price: null,\n          price2: null,\n          available: true,\n          qtt_stock: null,\n          imageurl: ''\n        };\n        this.imageFileInvalid = false;\n        this.selectedFile = null;\n      },\n      error: (err) => {\n        console.error('Erreur lors de l\\'ajout', err);\n        alert('Erreur lors de l\\'ajout du produit');\n      }\n    });\n  }\n}\n","<div class=\"edit-product-container\">\n  <style>\n    .edit-product-container {\n      max-width: 600px;\n      margin: 20px auto;\n      padding: 25px;\n      border-radius: 12px;\n      background-color: #ffffff;\n      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    }\n    .back-btn {\n      display: block;\n      margin-bottom: 20px;\n      color: #3498db;\n      text-decoration: none;\n      font-size: 1rem;\n      transition: color 0.3s ease;\n    }\n    .back-btn:hover {\n      color: #2980b9;\n    }\n    .back-btn i {\n      margin-right: 5px;\n    }\n\n    .edit-product-container h2 {\n      text-align: center;\n      margin-bottom: 25px;\n      color: #2c3e50;\n      font-size: 1.8rem;\n    }\n\n    .product-form {\n      display: grid;\n      gap: 20px;\n    }\n\n    .product-form .form-group {\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n    }\n\n    .product-form label {\n      font-weight: 500;\n      color: #34495e;\n      font-size: 1rem;\n    }\n\n    .product-form input,\n    .product-form select {\n      padding: 12px 16px;\n      font-size: 1rem;\n      border: 2px solid #e0e0e0;\n      border-radius: 8px;\n      outline: none;\n      transition: all 0.3s ease;\n      background-color: #f8f9fa;\n    }\n\n    .product-form input:focus,\n    .product-form select:focus {\n      border-color: #3498db;\n      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n    }\n\n    .product-form input[type=\"number\"] {\n      -moz-appearance: textfield;\n    }\n\n    .product-form input[type=\"number\"]::-webkit-outer-spin-button,\n    .product-form input[type=\"number\"]::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n\n    .error-message {\n      color: #e74c3c;\n      font-size: 0.9rem;\n      margin-top: 4px;\n      font-weight: 500;\n    }\n\n    .form-actions {\n      display: flex;\n      gap: 10px;\n      justify-content: flex-end;\n    }\n\n    button {\n      padding: 12px 24px;\n      font-size: 1rem;\n      font-weight: 600;\n      border: none;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.3s ease;\n      min-width: 120px;\n    }\n\n    button.update-btn {\n      background-color: #3498db;\n      color: white;\n    }\n\n    button.cancel-btn {\n      background-color: #e74c3c;\n      color: white;\n    }\n\n    button:not(:disabled):hover {\n      transform: translateY(-1px);\n    }\n\n    .preview-image {\n      max-width: 100%;\n      max-height: 300px;\n      border-radius: 8px;\n      margin-bottom: 15px;\n      object-fit: cover;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    }\n\n    .form-group.file-upload {\n      position: relative;\n    }\n\n    .form-group.file-upload input[type=\"file\"] {\n      display: none;\n    }\n\n    .file-upload-label {\n      padding: 12px 24px;\n      background-color: #f8f9fa;\n      border: 2px dashed #e0e0e0;\n      border-radius: 8px;\n      color: #7f8c8d;\n      cursor: pointer;\n      text-align: center;\n      transition: all 0.3s ease;\n    }\n\n    .file-upload-label:hover {\n      border-color: #3498db;\n      background-color: #ecf0f1;\n      color: #3498db;\n    }\n\n    .file-upload-label i {\n      margin-right: 8px;\n    }\n\n    .file-info {\n      margin-top: 8px;\n      color: #7f8c8d;\n      font-size: 0.9rem;\n    }\n\n    .form-group.file-upload.has-file .file-upload-label {\n      border-color: #3498db;\n      background-color: #ecf0f1;\n      color: #3498db;\n    }\n  </style>\n\n  <a class=\"back-btn\" routerLink=\"/produits\">\n    <i class=\"fas fa-arrow-left\"></i> Retour à la liste des produits\n  </a>\n  \n  <h2>Modifier le produit</h2>\n  <form class=\"product-form\">\n    <div class=\"form-group\">\n      <label for=\"name\">Nom du produit :</label>\n      <input\n        type=\"text\"\n        id=\"name\"\n        name=\"name\"\n        [ngModel]=\"product && product.name\"\n        (ngModelChange)=\"product && (product.name = $event)\"\n        required\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"price\">Prix détail :</label>\n      <input\n        type=\"number\"\n        id=\"price\"\n        name=\"price\"\n        [ngModel]=\"product && product.price\"\n        (ngModelChange)=\"product && (product.price = $event)\"\n        required\n        min=\"0\"\n        step=\"0.01\"\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"price2\">Prix gros :</label>\n      <input\n        type=\"number\"\n        id=\"price2\"\n        name=\"price2\"\n        [ngModel]=\"product && product.price2\"\n        (ngModelChange)=\"product && (product.price2 = $event)\"\n        min=\"0\"\n        step=\"0.01\"\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"available\">Disponible :</label>\n      <select id=\"available\" name=\"available\" [ngModel]=\"product && product.available\" (ngModelChange)=\"product && (product.available = $event)\" required>\n        <option [ngValue]=\"true\">Oui</option>\n        <option [ngValue]=\"false\">Non</option>\n      </select>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"qtt_stock\">Quantité en stock :</label>\n      <input\n        type=\"number\"\n        id=\"qtt_stock\"\n        name=\"qtt_stock\"\n        [ngModel]=\"product && product.qtt_stock\"\n        (ngModelChange)=\"product && (product.qtt_stock = $event)\"\n        required\n        min=\"0\"\n      />\n    </div>\n\n    <div class=\"form-group file-upload\" [class.has-file]=\"selectedFile\">\n      <label class=\"file-upload-label\" for=\"imageurl\">\n        <i class=\"fas fa-upload\"></i>\n        {{ selectedFile ? selectedFile.name : 'Modifier l\\'image' }}\n      </label>\n      <input\n        type=\"file\"\n        id=\"imageurl\"\n        name=\"imageurl\"\n        (change)=\"onFileChange($event)\"\n        accept=\"image/*\"\n      />\n      <div *ngIf=\"imageFileInvalid\" class=\"error-message\">\n        {{ imageFileInvalid }}\n      </div>\n    </div>\n\n    <div *ngIf=\"product?.imageurl\" class=\"form-group\">\n      <img [src]=\"product.imageurl\" alt=\"Aperçu\" class=\"preview-image\">\n    </div>\n\n    <div class=\"form-actions\">\n      <button class=\"update-btn\" (click)=\"update()\">\n        <i class=\"fas fa-save\"></i> Mettre à jour\n      </button>\n      <button class=\"cancel-btn\" (click)=\"cancel()\">\n        <i class=\"fas fa-times\"></i> Annuler\n      </button>\n    </div>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-edit-product',\n  templateUrl: './edit-product.component.html',\n  styleUrls: ['./edit-product.component.scss']\n})\nexport class EditProductComponent implements OnInit {\n  product: {\n    id: number;\n    name: string;\n    price: number;\n    price2: number;\n    available: boolean;\n    qtt_stock: number;\n    imageurl: string;\n  } | null = null;\n  imageFileInvalid = false;\n  selectedFile: File | null = null;\n  loading = false;\n  error: string | null = null;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private http: HttpClient\n  ) {}\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.params['id'];\n    if (id) {\n      // ⚠️ À adapter avec ton API réelle\n      this.http.get(`admin/get_product/${id}`).subscribe({\n        next: (data: any) => {\n          console.log(data);\n          this.product = {\n            id: data.id,\n            name: data.name || '',\n            price: data.price || 0,\n            price2: data.price2 || 0,\n            available: data.available || true,\n            qtt_stock: data.qtt_stock || 0,\n            imageurl: data.imageurl || ''\n          };\n        },\n        error: (err) => {\n          console.error('Erreur lors du chargement du produit', err);\n          alert('Erreur lors du chargement du produit');\n          this.router.navigate(['/produits']);\n        }\n      });\n    } else {\n      alert('Produit non trouvé');\n      this.router.navigate(['/produits']);\n    }\n  }\n\n  onFileChange(event: any) {\n    const file = event.target.files[0];\n    if (file) {\n      const validTypes = ['image/jpeg', 'image/png', 'image/jpg'];\n      if (!validTypes.includes(file.type)) {\n        this.imageFileInvalid = true;\n        this.selectedFile = null;\n      } else {\n        this.imageFileInvalid = false;\n        this.selectedFile = file;\n\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.product.imageurl = reader.result as string;\n        };\n        reader.readAsDataURL(file);\n      }\n    } else {\n      this.imageFileInvalid = false;\n      this.selectedFile = null;\n      this.product.imageurl = '';\n    }\n  }\n\n  update() {\n    if (\n      !this.product.name ||\n      this.product.price === null ||\n      this.product.price2 === null ||\n      this.product.qtt_stock === null\n    ) {\n      alert('Veuillez remplir tous les champs correctement.');\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    const formData = new FormData();\n    formData.append('name', this.product?.name || '');\n    formData.append('price', this.product?.price ? this.product.price.toString() : '0');\n    formData.append('price2', this.product?.price2 ? this.product.price2.toString() : '0');\n    formData.append('available', (this.product?.available || true).toString());\n    formData.append('qtt_stock', this.product?.qtt_stock ? this.product.qtt_stock.toString() : '0');\n\n    if (this.selectedFile) {\n      formData.append('image', this.selectedFile, this.selectedFile.name);\n    }\n\n    // ⚠️ À adapter avec ton API réelle\n    this.http.put(`admin/update-product/${this.product.id}`, formData).subscribe({\n      next: (response) => {\n        this.loading = false;\n        console.log('Produit mis à jour avec succès', response);\n        alert('Produit mis à jour avec succès');\n        this.router.navigate(['/produits']);\n      },\n      error: (err) => {\n        this.loading = false;\n        this.error = err.message || 'Erreur lors de la mise à jour du produit';\n        console.error('Erreur lors de la mise à jour', err);\n        alert(this.error);\n      }\n    });\n  }\n\n  cancel() {\n    this.router.navigate(['/produits']);\n  }\n}\n","<div class=\"products-container\">\n  <app-menu></app-menu>\n  <div class=\"page-header\">\n    <h2>Produits</h2>\n    <a routerLink=\"/produits/ajouter\" class=\"add-button\">\n      <i class=\"fas fa-plus\"></i> Ajouter un produit\n    </a>\n  </div>\n\n  <div class=\"search-filter\">\n    <input type=\"text\" \n           placeholder=\"Recherchez un produit...\" \n           class=\"search-input\"\n           [(ngModel)]=\"searchQuery\"\n           (input)=\"applyFilters()\">\n    \n    <select class=\"status-filter\"\n            [(ngModel)]=\"statusFilter\"\n            (change)=\"applyFilters()\">\n      <option value=\"\">Tous les produits</option>\n      <option value=\"disponible\">En stock</option>\n      <option value=\"epuise\">Stock épuisé</option>\n    </select>\n  </div>\n\n  <div class=\"products-grid\" *ngIf=\"!loading && !error\">\n    <div class=\"product-card\" *ngFor=\"let product of filteredProducts\">\n      <div class=\"product-image\">\n        <img [src]=\"getFullImageUrl(product.imageurl)\" \n             alt=\"{{product.name}}\" \n             class=\"product-image\">\n      </div>\n      \n      <div class=\"product-info\">\n        <h3>{{product.name}}</h3>\n        <p class=\"product-price\">{{product.price | number:'1.2-2'}} DZD</p>\n        <p class=\"product-stock\" [class.out-of-stock]=\"product.qtt_stock === 0\">\n          Stock: {{product.qtt_stock}}\n        </p>\n        <p class=\"product-availability\">\n          <span [class.available]=\"product.available\">{{product.available ? 'Disponible' : 'Non disponible'}}</span>\n        </p>\n      </div>\n\n      <div class=\"action-buttons\">\n        <button (click)=\"editProduct(product)\" class=\"edit-btn\">\n          <i class=\"fas fa-edit\"></i> Modifier\n        </button>\n        <button (click)=\"deleteProduct(product)\" class=\"delete-btn\">\n          <i class=\"fas fa-trash\"></i> Supprimer\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div *ngIf=\"loading\" class=\"loading-spinner\">\n    <i class=\"fas fa-spinner fa-spin\"></i> Chargement des produits...\n  </div>\n\n  <div *ngIf=\"error\" class=\"error-message\">\n    <i class=\"fas fa-exclamation-circle\"></i> {{ error }}\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ProductsService, Product } from '../../../services/products.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss']\n})\nexport class ProductsComponent implements OnInit {\n  products: Product[] = [];\n  filteredProducts: Product[] = [];\n  loading = true;\n  error: string | null = null;\n  searchQuery = '';\n  statusFilter = ''; \n\n  baseUrl = 'https://2872714c-427f-45d7-86a5-48cfb2ec630d-00-1poko749ejplg.janeway.replit.dev';\n  uploads = '/uploads';\n\n  constructor(\n    private productsService: ProductsService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadProducts();\n  }\n\n  applyFilters() {\n    const query = this.searchQuery.toLowerCase();\n\n    this.filteredProducts = this.products.filter(product => {\n      // Filtre recherche texte sur le nom\n      const matchesSearch = product.name.toLowerCase().includes(query);\n\n      // Filtre stock selon la sélection\n      let matchesStatus = true;\n      if (this.statusFilter === 'disponible') {\n        matchesStatus = product.qtt_stock > 0;\n      } else if (this.statusFilter === 'epuise') {\n        matchesStatus = product.qtt_stock === 0;\n      }\n\n      return matchesSearch && matchesStatus;\n    });\n  }\n\n  private loadProducts() {\n    this.loading = true;\n    this.error = null;\n    \n    this.productsService.getProducts().subscribe({\n      next: (data) => {\n        this.products = data;\n        this.filteredProducts = [...this.products];\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = err.message || 'Erreur lors du chargement des produits';\n        this.loading = false;\n      }\n    });\n  }\n\n  getFullImageUrl(imageFilename: string): string {\n    const imagePath = `${this.baseUrl}${this.uploads}/`;\n    if (imageFilename && imageFilename.trim() !== '') {\n      return `${imagePath}${imageFilename}`;\n    }\n    return `${imagePath}no_picture.jpg`;\n  }\n\n  editProduct(product: Product): void {\n    this.router.navigate(['/produits/edit/' + product.id]);\n  }\n\n  deleteProduct(product: Product): void {\n    if (confirm('Êtes-vous sûr de vouloir supprimer ce produit ?')) {\n      this.productsService.deleteProduct(product.id).subscribe({\n        next: () => {\n          this.loadProducts();\n        },\n        error: (err) => {\n          alert('Erreur lors de la suppression du produit');\n        }\n      });\n    }\n  }\n}\n","<div class=\"main-container\">\n  <nav class=\"navbar\">\n    <div class=\"menu-btn\" (click)=\"toggleMenu()\">\n      <span></span>\n      <span></span>\n      <span></span>\n    </div>\n    <div class=\"quick-stats\">\n      <div class=\"stat-card\" (click)=\"navigateTo('/produits')\">\n        <i class=\"fas fa-box\"></i>\n        <h3>Produits</h3>\n        <p>Manage your products</p>\n      </div>\n    </div>\n    <div class=\"logo\">\n      <h1>MFM Market</h1>\n    </div>\n  </nav>\n\n  <aside class=\"sidebar\" [ngClass]=\"{'active': isMenuOpen}\">\n    <nav class=\"sidebar-nav\">\n      <div *ngFor=\"let item of menuItems\" class=\"nav-item\" (click)=\"navigateTo(item.route)\">\n        <i [class]=\"item.icon\"></i>\n        <span>{{item.label}}</span>\n      </div>\n    </nav>\n  </aside>\n\n  <main class=\"content\">\n    <router-outlet></router-outlet>\n  </main>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.scss']\n})\nexport class SidebarComponent implements OnInit {\n  menuItems = [\n    { icon: 'fas fa-box', label: 'Produits', route: '/produits' },\n    { icon: 'fas fa-shopping-cart', label: 'Commande', route: '/commande' },\n    { icon: 'fas fa-users', label: 'Utilisateurs', route: '/utilisateurs' },\n    { icon: 'fas fa-credit-card', label: 'Mode de paiement', route: '/paiement' }\n  ];\n\n  isMenuOpen = false;\n\n  constructor(private router: Router) {}\n\n  ngOnInit(): void {}\n\n  toggleMenu() {\n    this.isMenuOpen = !this.isMenuOpen;\n  }\n\n  navigateTo(route: string) {\n    this.router.navigate([route]);\n  }\n}\n","<style>\n  .add-user-container {\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 20px;\n  }\n\n  .form-card {\n    background: #fff;\n    padding: 30px;\n    border-radius: 10px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .form-group {\n    margin-bottom: 20px;\n  }\n\n  .form-group label {\n    display: block;\n    margin-bottom: 8px;\n    color: #333;\n    font-weight: 500;\n  }\n\n  .form-group input,\n  .form-group select {\n    width: 100%;\n    padding: 10px;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    font-size: 16px;\n  }\n\n  .form-group input:focus,\n  .form-group select:focus {\n    outline: none;\n    border-color: #1976d2;\n  }\n\n  .form-group .error {\n    color: #dc3545;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n\n  .submit-btn {\n    background: #1976d2;\n    color: white;\n    padding: 12px 24px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 16px;\n    width: 100%;\n    transition: background 0.3s;\n  }\n\n  .submit-btn:hover {\n    background: #1557b0;\n  }\n\n  .back-btn {\n    display: block;\n    margin-bottom: 20px;\n    color: #1976d2;\n    text-decoration: none;\n    font-size: 16px;\n    transition: color 0.3s;\n  }\n\n  .back-btn:hover {\n    color: #1557b0;\n  }\n</style>\n\n<div class=\"add-user-container\">\n  <a class=\"back-btn\" routerLink=\"/utilisateurs\">\n    <i class=\"fas fa-arrow-left\"></i> Retour à la liste des utilisateurs\n  </a>\n\n  <div class=\"form-card\">\n    <h2>Ajouter un nouvel utilisateur</h2>\n    \n    <form [formGroup]=\"userForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"form-group\">\n        <label for=\"nom\">Nom</label>\n        <input type=\"text\" id=\"nom\" formControlName=\"nom\">\n        <div class=\"error\" *ngIf=\"userForm.get('nom')?.invalid && userForm.get('nom')?.touched\">\n          Le nom est requis (minimum 2 caractères)\n        </div>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"email\">Email</label>\n        <input type=\"email\" id=\"email\" formControlName=\"email\">\n        <div class=\"error\" *ngIf=\"userForm.get('email')?.invalid && userForm.get('email')?.touched\">\n          Veuillez entrer un email valide\n        </div>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"password\">Mot de passe</label>\n        <input type=\"password\" id=\"password\" formControlName=\"password\">\n        <div class=\"error\" *ngIf=\"userForm.get('password')?.invalid && userForm.get('password')?.touched\">\n          Le mot de passe doit contenir au moins 6 caractères\n        </div>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"user_level\">Niveau d'utilisateur</label>\n        <select id=\"user_level\" formControlName=\"user_level\">\n          <option value=\"\">Sélectionnez un niveau</option>\n          <option *ngFor=\"let level of userLevels\" [value]=\"level\">\n            {{ level }}\n          </option>\n        </select>\n        <div class=\"error\" *ngIf=\"userForm.get('user_level')?.invalid && userForm.get('user_level')?.touched\">\n          Veuillez sélectionner un niveau d'utilisateur\n        </div>\n      </div>\n\n      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"userForm.invalid\">\n        <i class=\"fas fa-plus-circle\"></i> Ajouter l'utilisateur\n      </button>\n    </form>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-add-user',\n  templateUrl: './add-user.component.html',\n  styleUrls: ['./add-user.component.css']\n})\nexport class AddUserComponent {\n  userForm: FormGroup;\n  userLevels = ['vendeur', 'gros', 'livreur'];\n\n  constructor(\n    private fb: FormBuilder,\n    private http: HttpClient,\n    private router: Router\n  ) {\n    this.userForm = this.fb.group({\n      nom: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      user_level: ['', Validators.required]\n    });\n  }\n\n  onSubmit() {\n    if (this.userForm.valid) {\n      const userData = this.userForm.value;\n      \n      // URL de l'API\n      const apiUrl = 'admin/add-user';\n\n      // Envoyer la requête POST\n      this.http.post(apiUrl, userData).subscribe({\n        next: (response) => {\n          console.log('Utilisateur ajouté avec succès', response);\n          alert('Utilisateur ajouté avec succès');\n\n          // Rediriger vers la liste des utilisateurs\n          this.router.navigate(['/utilisateurs']);\n        },\n        error: (error) => {\n          console.error('Erreur lors de l\\'ajout de l\\'utilisateur', error);\n          alert('Erreur lors de l\\'ajout de l\\'utilisateur. Veuillez réessayer.');\n        }\n      });\n    }\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-users-list',\n  templateUrl: './users-list.component.html'\n})\nexport class UsersListComponent {\n  constructor() {}\n}\n","<style>\n  .users-container {\n    margin-top: 2rem;\n  }\n  .users-filters {\n    margin-bottom: 1rem;\n  }\n\n  .add-user-btn {\n    margin-bottom: 2rem;\n    display: flex;\n    justify-content: flex-end;\n  }\n  .add-user-btn button {\n    padding: 0.5rem 1rem;\n    background-color: #28a745;\n    color: white;\n    border: none;\n    border-radius: 0.25rem;\n    cursor: pointer;\n    transition: background-color 0.2s;\n  }\n  .add-user-btn button:hover {\n    background-color: #218838;\n  }\n  .add-user-btn i {\n    margin-right: 0.5rem;\n  }\n  .users-filters input,\n  .users-filters select {\n    padding: 0.75rem;\n    border-radius: 0.25rem;\n    border: 1px solid #ddd;\n  }\n  .users-filters select {\n    width: 100%;\n  }\n  .users-table-responsive {\n    overflow-x: auto;\n  }\n  .users-table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  .users-table thead {\n    background-color: #343a40;\n    color: white;\n  }\n  .users-table th,\n  .users-table td {\n    padding: 1rem;\n    text-align: left;\n    border-bottom: 1px solid #ddd;\n  }\n  .users-table tbody tr:hover {\n    background-color: #f8f9fa;\n  }\n  .users-badge {\n    padding: 0.5rem 1rem;\n    border-radius: 0.25rem;\n    font-size: 0.875rem;\n  }\n  .users-badge.success {\n    background-color: #28a745;\n    color: white;\n  }\n  .users-badge.danger {\n    background-color: #dc3545;\n    color: white;\n  }\n  .users-actions {\n    white-space: nowrap;\n  }\n  .users-actions button {\n    padding: 0.375rem 0.75rem;\n    border-radius: 0.25rem;\n    margin-right: 0.5rem;\n    border: none;\n    cursor: pointer;\n  }\n  .users-actions button:last-child {\n    margin-right: 0;\n  }\n  .users-actions .edit-btn {\n    background-color: #007bff;\n    color: white;\n  }\n  .users-actions .delete-btn {\n    background-color: #dc3545;\n    color: white;\n  }\n</style>\n\n\n<div class=\"users-container\">\n  <app-menu></app-menu>\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <div class=\"row mb-3 users-filters\">\n        <div class=\"col-md-6\">\n          <input type=\"text\" \n                 placeholder=\"Rechercher...\">\n        </div>\n        <div class=\"col-md-6\">\n          <select>\n            <option value=\"\">Tous les niveaux</option>\n            <option value=\"1\">Niveau 1</option>\n            <option value=\"2\">Niveau 2</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"add-user-btn\">\n        <button routerLink=\"/utilisateurs/ajouter\">\n          <i class=\"fas fa-plus\"></i>\n          Ajouter un utilisateur\n        </button>\n      </div>\n\n      <div class=\"table-responsive users-table-responsive\">\n        <table class=\"users-table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Nom</th>\n              <th>Email</th>\n              <th>Niveau</th>\n              <th>Rôle</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>2</td>\n              <td>Vendeur</td>\n              <td>vendeur&#64;gmail.com</td>\n              <td><span class=\"users-badge\">1</span></td>\n              <td>Vendeur</td>\n              <td class=\"users-actions\">\n                <button class=\"edit-btn\">\n                  <i class=\"fas fa-edit\"></i>\n                </button>\n                <button class=\"delete-btn\">\n                  <i class=\"fas fa-trash\"></i>\n                </button>\n              </td>\n            </tr>\n            <tr>\n              <td>4</td>\n              <td>Gros</td>\n              <td>gros&#64;gmail.com</td>\n              <td><span class=\"users-badge\">1</span></td>\n              <td>Gros</td>\n              <td class=\"users-actions\">\n                <button class=\"edit-btn\">\n                  <i class=\"fas fa-edit\"></i>\n                </button>\n                <button class=\"delete-btn\">\n                  <i class=\"fas fa-trash\"></i>\n                </button>\n              </td>\n            </tr>\n            <tr>\n              <td>3</td>\n              <td>Livreur</td>\n              <td>livreur&#64;gmail.com</td>\n              <td><span class=\"users-badge\">1</span></td>\n              <td>Livreur</td>\n              <td class=\"users-actions\">\n                <button class=\"edit-btn\">\n                  <i class=\"fas fa-edit\"></i>\n                </button>\n                <button class=\"delete-btn\">\n                  <i class=\"fas fa-trash\"></i>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  loginForm: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      username: ['', [Validators.required]],\n      password: ['', [Validators.required]]\n    });\n  }\n\n  ngOnInit(): void {}\n\n  onLogin(): void {\n    if (this.loginForm.valid) {\n      const username = this.loginForm.get('username')?.value;\n      const password = this.loginForm.get('password')?.value;\n\n      if (username === 'salmi' && password === '123456') {\n        console.log(\"************\");\n        this.router.navigate(['/home']);\n      } else {\n        console.log('Invalid credentials');\n      }\n    }\n  }\n}\n","<div class=\"login-container\">\n  <div class=\"login-box\">\n    <h2>Welcome to MFM Market</h2>\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"onLogin()\">\n      <div class=\"form-group\">\n        <label for=\"username\">Username</label>\n        <input type=\"text\" id=\"username\" formControlName=\"username\" class=\"form-control\" placeholder=\"Enter username\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" formControlName=\"password\" class=\"form-control\" placeholder=\"Enter password\">\n      </div>\n      <button type=\"submit\" class=\"btn-login\" [disabled]=\"!loginForm.valid\">Login</button>\n    </form>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { HttpHeaders } from '@angular/common/http';\n\nexport interface Product {\n  id: number;\n  name: string;\n  price: number;\n  imageurl: string;\n  price2: number;\n  avalaible: boolean;\n  qtt_stock: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductsService {\n  private apiUrl = '/admin/products';\n  private addProductUrl = '/admin/add-product';\n  private getproducturl='/admin/get_product';\n\n  constructor(private http: HttpClient) {}\n\n\n  sendTestPost() {\n    const formData = new FormData();\n    formData.append('test', 'value');\n  \n    this.http.post('/admin/hello', formData).subscribe({\n      next: (res) => console.log('Succès', res),\n      error: (err) => console.error('Erreur', err)\n    });\n  }\n\n  getProducts(): Observable<Product[]> {\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      'Content-Type': 'application/json'\n    };\n\n    return this.http.get<Product[]>(this.apiUrl, { headers }).pipe(\n      map((products) => {\n        // Transform the data to match our interface\n        return products.map(product => ({\n          ...product,\n          price: product.price,\n          price2: product.price2,\n          avalaible: product.avalaible,\n          qtt_stock: product.qtt_stock\n        }));\n      }),\n      catchError((error) => {\n        console.error('API Error:', error);\n        // Try to get more detailed error information\n        const errorMessage = error.error?.message || \n                           error.statusText || \n                           'Erreur lors du chargement des produits';\n        throw new Error(errorMessage);\n      })\n    );\n  }\ngetProduct(productId: number): Observable<Product> {\n  const headers = new HttpHeaders({\n    'Content-Type': 'application/json'\n    // Les en-têtes 'Access-Control-Allow-*' ne sont pas à définir côté client\n  });\n\n  const url = `admin/products/${productId}`;\n\n  return this.http.get<Product>(url, { headers }).pipe(\n    map((product) => ({\n      ...product,\n      price: product.price,\n      price2: product.price2,\n      avalaible: product.avalaible,\n      qtt_stock: product.qtt_stock\n    })),\n    catchError((error) => {\n      console.error('API Error:', error);\n      const errorMessage =\n        error.error?.message ||\n        error.statusText ||\n        'Erreur lors du chargement du produit';\n      return throwError(() => new Error(errorMessage));\n    })\n  );\n}\n\n  deleteProduct(productId: number): Observable<void> {\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      'Content-Type': 'application/json'\n    };\n\n    return this.http.delete<void>(`${this.apiUrl}/${productId}`, { headers }).pipe(\n      catchError((error) => {\n        console.error('API Error:', error);\n        const errorMessage = error.error?.message || \n                           error.statusText || \n                           'Erreur lors de la suppression du produit';\n        throw new Error(errorMessage);\n      })\n    );\n  }\n\n  addProduct(product: Product, imageFile: File): Observable<Product> {\n    const formData = new FormData();\n    formData.append('name', product.name);\n    formData.append('price', product.price.toString());\n    if (product.price2 !== undefined && product.price2 !== null) {\n      formData.append('price2', product.price2.toString());\n    }\n    formData.append('avalaible', product.avalaible ? 'true' : 'false');\n    formData.append('qtt_stock', product.qtt_stock.toString());\n    formData.append('image', imageFile);\n\n    return this.http.post<Product>(this.addProductUrl, formData).pipe(\n      catchError((error) => {\n        console.error('API Error:', error);\n        const errorMessage = error.error?.message || error.statusText || 'Erreur lors de l\\'ajout du produit';\n        return throwError(() => new Error(errorMessage));\n      })\n    );\n  }\n\n  updateProduct(productId: number, formData: FormData): Observable<Product> {\n    return this.http.put<Product>(`${this.addProductUrl}/${productId}`, formData).pipe(\n      catchError((error) => {\n        console.error('API Error:', error);\n        const errorMessage = error.error?.message || error.statusText || 'Erreur lors de la mise à jour du produit';\n        return throwError(() => new Error(errorMessage));\n      })\n    );\n  }  \n}\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}